"use strict";(self["webpackChunkcrm"]=self["webpackChunkcrm"]||[]).push([[448],{8448:function(e,i,l){l.r(i),l.d(i,{default:function(){return F}});var a=l(3396),s=l(9242),t=l(7139);const r={class:"card-content"},o={class:"card-title"},d={class:"input-field"},n=(0,a._)("label",{for:"email"},"Email",-1),c={key:0,class:"helper-text invalid"},m={key:1,class:"helper-text invalid"},u={class:"input-field"},$={for:"password"},w={key:0,class:"helper-text invalid"},v={key:1,class:"helper-text invalid"},p={class:"card-action"},h={class:"btn waves-effect waves-light auth-submit",type:"submit"},z=(0,a._)("i",{class:"material-icons right"},"send",-1),f={class:"center"};function g(e,i,l,g,y,_){const k=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("form",{class:"card auth-card",onSubmit:i[2]||(i[2]=(0,s.iM)(((...e)=>_.submitHandler&&_.submitHandler(...e)),["prevent"]))},[(0,a._)("div",r,[(0,a._)("span",o,(0,t.zw)(e.$filters.localize.localizeFilter("Home accounting")),1),(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{id:"email",type:"text","onUpdate:modelValue":i[0]||(i[0]=i=>e.email=i),class:(0,t.C_)({invalid:e.v$.email.$dirty&&e.v$.email.$invalid||e.v$.email.$dirty&&e.v$.email.required.$invalid})},null,2),[[s.nr,e.email,void 0,{trim:!0}]]),n,e.v$.email.$dirty&&e.v$.email.required.$invalid?((0,a.wg)(),(0,a.iD)("small",c,(0,t.zw)(e.$filters.localize.localizeFilter("The Email field must not be empty")),1)):e.v$.email.$dirty&&e.v$.email.$invalid?((0,a.wg)(),(0,a.iD)("small",m,(0,t.zw)(e.$filters.localize.localizeFilter("Enter correct Email")),1)):(0,a.kq)("",!0)]),(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{id:"password",type:"password","onUpdate:modelValue":i[1]||(i[1]=i=>e.password=i),class:(0,t.C_)({invalid:e.v$.password.$dirty&&e.v$.password.minLength.$invalid||e.v$.password.$dirty&&e.v$.password.required.$invalid})},null,2),[[s.nr,e.password,void 0,{trim:!0}]]),(0,a._)("label",$,(0,t.zw)(e.$filters.localize.localizeFilter("Password")),1),e.v$.password.$dirty&&e.v$.password.required.$invalid?((0,a.wg)(),(0,a.iD)("small",w,(0,t.zw)(e.$filters.localize.localizeFilter("Enter password")),1)):e.v$.password.$dirty&&e.v$.password.minLength.$invalid?((0,a.wg)(),(0,a.iD)("small",v,(0,t.zw)(e.$filters.localize.localizeFilter("The password must be"))+" "+(0,t.zw)(e.v$.password.minLength.$params.min)+" "+(0,t.zw)(e.$filters.localize.localizeFilter("characters. Now he"))+" "+(0,t.zw)(e.password.length),1)):(0,a.kq)("",!0)]),(0,a.Wm)(k,{to:"request-password-reset"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Forgot password? ")])),_:1})]),(0,a._)("div",p,[(0,a._)("div",null,[(0,a._)("button",h,[(0,a.Uk)((0,t.zw)(e.$filters.localize.localizeFilter("Login"))+" ",1),z])]),(0,a._)("p",f,[(0,a.Uk)((0,t.zw)(e.$filters.localize.localizeFilter("Don't have an account?"))+" ",1),(0,a.Wm)(k,{to:"/register"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,t.zw)(e.$filters.localize.localizeFilter("Register")),1)])),_:1})])])],32)}l(560);var y=l(4219),_=l(5420),k={name:"login",setup:()=>({v$:(0,y.Xw)()}),data:()=>({email:"",password:""}),validations(){return{email:{email:_.Do,required:_.C1},password:{required:_.C1,minLength:(0,_.Ei)(6)}}},mounted(){"login"!==this.$route.query.message&&"logout"!==this.$route.query.message&&"changed-email"!==this.$route.query.message||M.toast({html:this.$filters.localize.localizeFilter(this.$route.query.message)})},methods:{async submitHandler(){if(this.v$.$invalid)return void await this.v$.$touch();const e={email:this.email,password:this.password};try{await this.$store.dispatch("login",e),await this.$router.push("/")}catch(i){}}}},b=l(89);const q=(0,b.Z)(k,[["render",g]]);var F=q}}]);
//# sourceMappingURL=448.6b514db1.js.map