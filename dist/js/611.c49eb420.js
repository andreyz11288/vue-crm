"use strict";(self["webpackChunkcrm"]=self["webpackChunkcrm"]||[]).push([[611],{5611:function(i,e,l){l.r(e),l.d(e,{default:function(){return F}});var a=l(3396),s=l(9242),t=l(7139);const r={class:"card-content"},o={class:"card-title"},d={class:"input-field"},n=(0,a._)("label",{for:"email"},"Email",-1),c={key:0,class:"helper-text invalid"},m={key:1,class:"helper-text invalid"},u={class:"input-field"},$={for:"password"},v={key:0,class:"helper-text invalid"},w={key:1,class:"helper-text invalid"},p={class:"card-action"},h={class:"btn waves-effect waves-light auth-submit",type:"submit"},z=(0,a._)("i",{class:"material-icons right"},"send",-1),f={class:"center"};function g(i,e,l,g,y,_){const b=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("form",{class:"card auth-card",onSubmit:e[2]||(e[2]=(0,s.iM)(((...i)=>_.submitHandler&&_.submitHandler(...i)),["prevent"]))},[(0,a._)("div",r,[(0,a._)("span",o,(0,t.zw)(i.$filters.localize.localizeFilter("Home accounting")),1),(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{id:"email",type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>i.email=e),class:(0,t.C_)({invalid:i.v$.email.$dirty&&i.v$.email.$invalid||i.v$.email.$dirty&&i.v$.email.required.$invalid})},null,2),[[s.nr,i.email,void 0,{trim:!0}]]),n,i.v$.email.$dirty&&i.v$.email.required.$invalid?((0,a.wg)(),(0,a.iD)("small",c,(0,t.zw)(i.$filters.localize.localizeFilter("The Email field must not be empty")),1)):i.v$.email.$dirty&&i.v$.email.$invalid?((0,a.wg)(),(0,a.iD)("small",m,(0,t.zw)(i.$filters.localize.localizeFilter("Enter correct Email")),1)):(0,a.kq)("",!0)]),(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{id:"password",type:"password","onUpdate:modelValue":e[1]||(e[1]=e=>i.password=e),class:(0,t.C_)({invalid:i.v$.password.$dirty&&i.v$.password.minLength.$invalid||i.v$.password.$dirty&&i.v$.password.required.$invalid})},null,2),[[s.nr,i.password,void 0,{trim:!0}]]),(0,a._)("label",$,(0,t.zw)(i.$filters.localize.localizeFilter("Password")),1),i.v$.password.$dirty&&i.v$.password.required.$invalid?((0,a.wg)(),(0,a.iD)("small",v,(0,t.zw)(i.$filters.localize.localizeFilter("Enter password")),1)):i.v$.password.$dirty&&i.v$.password.minLength.$invalid?((0,a.wg)(),(0,a.iD)("small",w,(0,t.zw)(i.$filters.localize.localizeFilter("The password must be"))+" "+(0,t.zw)(i.v$.password.minLength.$params.min)+" "+(0,t.zw)(i.$filters.localize.localizeFilter("characters. Now he"))+" "+(0,t.zw)(i.password.length),1)):(0,a.kq)("",!0)])]),(0,a._)("div",p,[(0,a._)("div",null,[(0,a._)("button",h,[(0,a.Uk)((0,t.zw)(i.$filters.localize.localizeFilter("Login"))+" ",1),z])]),(0,a._)("p",f,[(0,a.Uk)((0,t.zw)(i.$filters.localize.localizeFilter("Don't have an account?"))+" ",1),(0,a.Wm)(b,{to:"/register"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,t.zw)(i.$filters.localize.localizeFilter("Register")),1)])),_:1})])])],32)}l(560);var y=l(4219),_=l(5420),b={name:"login",setup:()=>({v$:(0,y.Xw)()}),data:()=>({email:"",password:""}),validations(){return{email:{email:_.Do,required:_.C1},password:{required:_.C1,minLength:(0,_.Ei)(6)}}},mounted(){"login"!==this.$route.query.message&&"logout"!==this.$route.query.message&&"changed-email"!==this.$route.query.message||M.toast({html:this.$filters.localize.localizeFilter(this.$route.query.message)})},methods:{async submitHandler(){if(this.v$.$invalid)return void await this.v$.$touch();const i={email:this.email,password:this.password};try{await this.$store.dispatch("login",i),await this.$router.push("/")}catch(e){}}}},k=l(89);const q=(0,k.Z)(b,[["render",g]]);var F=q}}]);
//# sourceMappingURL=611.c49eb420.js.map